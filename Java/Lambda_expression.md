# 람다식(Lambda expression)

## 정의
- 메서드를 하나의 식(expression)으로 표현한 것
- 메서드로 전달할 수 있는 익명 함수를 단순화한 것

<br/>

## 특징
- 보통의 메서드와 달리 이름이 없으므로 **익명**이라 표현한다 → 구현해야 할 코드에 대한 걱정거리가 줄어든다
- 람다는 메서드처럼 특정 클래스에 종속되지 않으므로 **함수**라고 부른다. 하지만 메서드처럼 파라미터 리스트, 바디, 반환 형식, 가능한 예외 리스트를 포함한다
- 람다 표현식을 메서드 인수로 **전달**하거나 변수로 저장할 수 있다
- 익명 클래스처럼 많은 자질구레한 코드를 구현할 필요가 없다 → 간결성
  ```java
    // 익명 클래스를 사용한 코드
    Comparator<Apple> byWeight = new Comparator<Apple>() {
        public int compare(Apple a1, Apple a2) {
            return a1.getWeight().compareTo(a2.getWeight());
        }
    };

    // 람다를 사용한 코드
    Comparator<Apple> byWeight = (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
  ```

<br/>

## 작성 방법

```java
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```

람다 표현식은 파라미터, 화살표, 바디 세 부분으로 이루어진다

- 파라미터 리스트 : `(Apple a1, Apple a2)`
  - `Comparator`의 `compare` 메서드 파라미터 두 개
- 화살표 : `->`
  - 람다의 파라미터 리스트와 바디를 구분
- 람다 바디
  - 람다의 반환값에 해당하는 표현식

<br/>

### 자바 8에서 지원하는 람다 표현식

```java
(String s) -> s.length()
```
- 람다 표현식에는 `return`이 함축되어 있으므로 `return`문을 명시적으로 사용하지 않아도 된다 → `return`문을 식으로 대신하기 때문에 세미콜론을 붙이지 않는다


- 괄호 안의 문장이 하나일 때는 괄호를 생략할 수 있다. 이 때 문장의 끝에 세미콜론을 붙이지 않아야 한다



- 괄호 안의 문장이 `return` 문일 경우 괄호를 생략할 수 없다
- 반환값이 있는 경우 `return` 문 대신 식(expression)으로 대신할 수 있다. 문장(statement)이 아닌 식이므로 끝에 세미콜론을 붙이지 않는다
    ```text
    (int a, int b) -> a > b ? a : b 
    ```
- 람다식에 선언된 대부분의 매개변수의 경우 타입 추론이 가능하며, 그렇기 때문에 생략 가능하다. 람다식의 반환타입이 없는 경우도 추론이 가능하기 때문
    ```text
    (a, b) -> a > b ? a : b
    ```
- 매개변수가 하나뿐이면 괄호를 생략할 수 있으나, 매개변수의 타입이 있으면 생략할 수 없다
    ```text
    a -> a * a
    ```

<br/>

## 장점
1. 코드가 간결하고 유연해진다
2. 모든 메서드는 클래스에 포함되어야 하므로 클래스를 생성해야 메서드를 호출할 수 있지만 람다식은 그 자체만으로 메서드의 역할을 할 수 있다 
   → 즉, 이용할 수 있는 편리한 클래스나 메서드가 없을 때 새로운 람다식을 이용하면 더 간결하게 코드를 구현할 수 있다
   → 한두 번만 사용할 메서드를 매번 정의하는 것은 귀찮은 일인데 람다를 사용하면 매번 정의하지 않고 코드를 구현할 수 있다
   → 하지만 람다가 조금 복잡한 동작을 수행하는 상황으로 길어진다면 코드가 수행하는 일을 잘 설명하는 이름을 가진 메서드를 정의하고 메서드 참조를 활용하는 것이 바람직하다. 코드의 명확성이 우선시되어야 한다
3. 메서드를 변수처럼 다루는 것이 가능하다 (메서드의 매개변수로 전달할 수 있으며, 메서드의 결과로 반환될 수 있다)

<br/>

## etc
- 람다가 기술적으로 자바 8 이전의 자바로 할 수 없었던 일을 제공하는 것은 아니다

<br/>

---

참고
- Java의 정석(남궁 성)
- 모던 자바 인 액션(라울-게이브리얼 우르마, 마리오 푸스코, 앨런 마이크로프트)